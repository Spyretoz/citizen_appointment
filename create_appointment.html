<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" type="text/css" href="Appointment">
	<title>Make a Date</title>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>

	<h1>Create an appointment</h1>

	

	<div class="appForm">
		<h1>Appointment Form</h1>
		<form action="appointment" method="POST">

			<input type="time" name="app_time" required>
			<br><br>
			<input type="date" name="app_date" required>
			<br><br>

			
			<select id="mySelect" name="app_carrier">
				<option disabled selected>Available Carriers</option>
			</select>

			<h5><input type="text" name="app_extraINFO" placeholder="Επιπλέον πληροφορίες (Optional)" autocomplete="off" required></h5>

			<input type="submit" class="button" value="Δημιουργία">
			<br><br>
			<a href="/appoin-list" value="Show My Appointments">Show My Appointments</a>
			<br><br>
			<a href="/updata" value="Show My Appointments">Additional Personal Info</a>
			
		</form>
	</div>

	<script type="text/javascript">

		var settings = {
			"url": "http://localhost:8081/show_carriers",
			"method": "GET",
			"timeout": 0,
		};

		$.ajax(settings).done(function (response) 
		{
			if (response.length > 0) 
			{

				for(var i = 0; i < response.length; i++)
			 	{

			 		var txt = JSON.stringify(response[i]);
			 		var obj = JSON.parse(txt);
			
					var x = document.getElementById("mySelect");
					var option = document.createElement("option");
					option.text = obj.car_name;
					x.add(option);
			 	}
			}
			else
			{
				alert("There are no carriers available");
			}
				
		});
	</script>
	
</body>
</html>